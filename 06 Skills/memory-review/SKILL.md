---
name: memory-review
type: skill
trigger: 用户主动激活（"复盘记忆"、"memory review"等）或周复盘场景
version: 1.0
created: 2026-02-23
---

# memory-review

## 用途

批量审查记忆系统状态，校准记忆条目，处理毕业候选项。是记忆系统的定期维护流程。

## 触发方式

技能型——语义匹配用户意图。典型触发语：
- "复盘一下记忆"
- "检查一下记忆系统"
- "memory review"
- 周复盘场景中自动建议

## 执行流程

### 第 1 步：全景扫描

1. 读取 `MEMORY.md` 全文
2. 读取 `MEMORY_LOG.md` 尾部（最近 20 行）
3. 读取 `USER.md` 的版本记录区块
4. 统计：动态记忆条目数、程序性记忆条目数、上次复盘时间

### 第 2 步：编制摘要

向用户呈现当前记忆全貌：
- 动态记忆：共 N 条，最近新增 X 条，最老条目日期
- 程序性记忆：共 N 条，覆盖哪些情境
- 上次复盘：日期
- 毕业候选：列出强度达到 ★★★ 的条目

呈现方式：自然语言，不暴露层级编号。

### 第 3 步：给用户空间

不急着推进。问一句开放性问题：
- "最近有没有什么新的工作习惯或想法变化，想补充进来的？"

等用户回应后再继续。

### 第 4 步：校准问题

针对现有条目逐条确认：
- 这条还准确吗？
- 强度是否需要调整？（升/降/保持）
- 是否可以毕业到 USER.md？

批量处理，不逐条弹窗。将待确认项列成清单，用户一次性回复。

### 第 5 步：执行写入

根据用户确认结果：
- 新增条目 → 写入 MEMORY.md 对应区块
- 强度调整 → 更新 MEMORY.md
- 毕业条目 → 提炼写入 USER.md，原条目标注 `[graduated]`
- 删除条目 → 从 MEMORY.md 移除

### 第 6 步：写入日志

在 `MEMORY_LOG.md` 追加本次复盘记录：
```
YYYY-MM-DD | memory-review: 扫描 N 条，新增 X，调整 Y，毕业 Z
```

## 输出

- 更新后的 MEMORY.md
- 更新后的 USER.md（如有毕业）
- MEMORY_LOG.md 追加记录
- 向用户口头汇总本次变更
