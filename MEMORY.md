---
title: MEMORY.md
type: system-instruction
priority: 1
description: 长期记忆存储——动态记忆（Layer 2）与程序性记忆（Layer 3）合并管理。
version: 1.0
created: 2026-02-19
---

# MEMORY.md

长期记忆存储。包含跨周保留的洞见（动态记忆）和情境→行动模式（程序性记忆）。

---

## 写入协议

### 谁来写

- **AI** 在以下场景提议写入：执行模式中发现高惊奇信号（后台标记）、复盘模式中批量扫描提取
- **用户** 可随时手动添加或修改条目

### 写入流程

1. AI 发现值得记录的信号
2. 用自然语言向用户描述发现
3. 用户确认后，AI 写入对应区块
4. 在 MEMORY_LOG.md 记录本次写入操作

### 强度标记

| 符号 | 含义 | 证据要求 |
|------|------|----------|
| ★ | 初始观察 | 单次行为或明确陈述 |
| ★★ | 重复验证 | 2-3 次一致行为 |
| ★★★ | 稳定模式 | 多次跨情境验证，可考虑毕业到 USER.md |

### 衰减规则

- 未被引用的条目每 4 周降一级强度
- ★ 级条目降至无星后，下次复盘时决定保留或清除
- 被主动引用的条目重置衰减计时器
- 标注 `graduated` 的条目不参与衰减

---

## 动态记忆（Layer 2）

跨周保留的洞见、偏好和决策。这些是关于用户「怎么想」和「在意什么」的记忆。

### 条目格式

```
### [简短标题]
- **强度**：★★
- **发现日期**：YYYY-MM-DD
- **证据**：[具体行为或对话记录的简述]
- **related**：[关联的程序性记忆条目，如有]
- **备注**：[补充说明，如适用场景、例外情况]
```

> `related` 字段用于建立动态记忆与程序性记忆之间的交叉引用。一个洞见可能关联多个行动模式，反之亦然。

### 当前条目

> 初始化时此区块为空。以下为示例条目，实际使用时替换：

### [示例] 决策偏好：先做再想
- **强度**：★★
- **发现日期**：2026-02-20
- **证据**：两次面对新项目时，用户选择先出粗糙原型再讨论方向，而非先做规划
- **related**：→ 程序性「阻塞处理偏好」（同一决策风格的不同表现）
- **备注**：在高不确定性场景下尤为明显；确定性高的任务则会先规划

### [示例] 写作习惯：迭代式打磨
- **强度**：★
- **发现日期**：2026-02-21
- **证据**：一次观察到用户对同一份文档反复修改 4 次才定稿
- **related**：—
- **备注**：待更多证据确认是否为稳定模式

---

## 程序性记忆（Layer 3）

情境→行动的模式匹配。当特定情境出现时，AI 按照已确认的模式行动。

### 条目格式

```
### [模式名称]
- **强度**：★★
- **触发情境**：[什么条件下触发]
- **行动模式**：[AI 应该怎么做]
- **发现日期**：YYYY-MM-DD
- **related**：[关联的动态记忆条目，如有]
- **证据**：[发现这个模式的具体场景]
```

### 当前条目

> 初始化时此区块为空。以下为示例条目，实际使用时替换：

### [示例] 文件命名习惯
- **强度**：★★
- **触发情境**：创建新文档时
- **行动模式**：使用「日期_项目名_版本」格式，如 `0220_产品方案_v2`
- **发现日期**：2026-02-20
- **related**：—
- **证据**：三次文件创建中，用户都手动改为此格式

### [示例] 阻塞处理偏好
- **强度**：★
- **触发情境**：任务遇到外部依赖阻塞时
- **行动模式**：先跳到其他任务继续推进，不等待阻塞解除
- **发现日期**：2026-02-22
- **related**：→ 动态「决策偏好：先做再想」（同一决策风格的行动表现）
- **证据**：一次项目评审被推迟时，用户立即切换到另一个项目的设计工作

---

## 别名对照表

记录用户对同一事物的不同称呼，帮助 AI 准确理解指代。

| 用户说法 | 实际指代 | 场景 |
|----------|----------|------|
| [示例：「那个方案」] | [如：XX 项目产品方案 v3] | [最近讨论中] |

> 此表由 AI 在对话中自动积累，用户可修正。

---

## 毕业记录

从 MEMORY.md 毕业到 USER.md 的条目存档：

| 原条目 | 毕业日期 | 写入位置 | 确认方式 |
|--------|----------|----------|----------|
| [暂无] | — | — | — |

---

## 使用说明

### 这个文件怎么用

- **AI 读取**：启动时按需检索，不全量加载。根据当前对话情境匹配相关条目。
- **AI 写入**：发现新模式时提议，经用户确认后写入。
- **用户修改**：随时可以直接编辑、删除或调整条目。
- **周复盘**：memory-review 技能会系统性地扫描和更新此文件。

### 与其他文件的关系

- `USER.md`：MEMORY.md 中 ★★★ 级稳定条目的毕业目的地
- `_本周.md`：仅与本周相关的记忆留在周文件中，不进入 MEMORY.md
- `MEMORY_LOG.md`：记录对 MEMORY.md 的每次读写操作

---

## 版本记录

| 日期 | 变更 | 原因 |
|------|------|------|
| 2026-02-19 | 模板创建（Layer 2 + 3 合并） | 系统初始化 |
